@page "/"

<PageTitle>Multiplication Table</PageTitle>

@if (CurrentQuestion != null)
{
    <div class="d-flex justify-content-center p-3 overflow-hidden">
        <div class="d-flex align-items-center h-100">
            <h5 class="text-nowrap mb-0 me-2">
                @CurrentQuestion.Question
            </h5>
            <input @ref="AnswerField" type="text" inputmode="decimal" class="form-control form-control-lg" @bind="@CurrentQuestion.Answer" style="width:60px" />
        </div>
        <div class="progress" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 75%"></div>
        </div>
        <hr/>
        <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar" style="width: 25%"></div>
        </div>
        <button id="next" class="btn btn-primary btn-lg" @onclick="Next">Next</button>
    </div>
}

@if (ShowResults)
{
    <ApexChart TItem="AnswerResult"
               Title="Result">

        <ApexPointSeries TItem="AnswerResult"
                         Items="AnswerResults"
                         Name="Gross Value"
                         SeriesType="SeriesType.Pie"
                         XValue="@(e => e.Title)"
                         YAggregate="@(e => e.Sum(e => e.Count))"
                         OrderByDescending="e=>e.Y"
                         PointColor="e=> GetPointColor(e)" ShowDataLabels />
    </ApexChart>
}

