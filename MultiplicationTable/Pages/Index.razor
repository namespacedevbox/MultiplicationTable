@page "/"

<PageTitle>Multiplication Table</PageTitle>

<style>
    #next {
        position: fixed;
        width: calc(100% - 30px);
        bottom: 10px;
        line-height: 40px;
        text-align: center;
    }
</style>

@if (currentQuestion != null)
{
    <div class="d-flex justify-content-center p-3">
        <div class="d-flex align-items-center h-100">
            <h5 class="text-nowrap mb-0 me-2">
                @currentQuestion.Question
            </h5>
            <input @ref="AnswerField" type="text" inputmode="decimal" class="form-control form-control-lg" @bind="@currentQuestion.Answer" style="width:60px" autofocus />
        </div>
        <button id="next" class="btn btn-primary btn-lg" @onclick="Next">Next</button>
    </div>

    @* <div class="d-flex flex-column justify-content-center align-items-center h-100">
        <div class="d-flex align-items-center h-100">
            <h5 class="text-nowrap mb-0">
                @currentQuestion.Question
            </h5>
            <input @ref="AnswerField" type="text" inputmode=decimal @bind="@currentQuestion.Answer" style="width:60px" class="form-control mx-2" autofocus />

        </div>
        <button id="next" class="btn btn-primary mt-auto mb-2 w-100" @onkeydown="@Enter" @onclick="Next">Next</button>
        <button @onclick="CalcResult">CalcResult</button>
    </div>*@

}

@if (showResults)
{
    <ApexChart TItem="AnswerResult"
               Title="Result">

        <ApexPointSeries TItem="AnswerResult"
                         Items="AnswerResults"
                         Name="Gross Value"
                         SeriesType="SeriesType.Pie"
                         XValue="@(e => e.Title)"
                         YAggregate="@(e => e.Sum(e => e.Count))"
                         OrderByDescending="e=>e.Y"
                         PointColor="e=> GetPointColor(e)" ShowDataLabels />
    </ApexChart>
}

